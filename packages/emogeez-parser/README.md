# Emogeez parser

This module works with emogeez-generator. It helps you parsing emojis in text and find emojis to replace it with the emoji name, or utf8 or image.

### Installation 
```bash
$ yarn i emogeez-parser
```

### How to use

Once installed, the different tools can be imported in your projects:

First configure the package for your personal use.
It require an url where to get the resources generated by the package [emogeez-generator](https://github.com/arthur-feral/emogeez/tree/master/packages/emogeez-generator).
After running the `emogeez-generator` package, the generated files can be hosted by you or you can use the default generated hosted by the repository.

```javascript
import parserFactory from 'emogeez-parser';

const {
  replacer,
  matcher,
} = parserFactory({
  blackList: [],
  theme: 'apple',
  themesUrl: 'https://yourcdn.com/emojis/',
});

fetchTheme('apple')
    .then(() => {
      // do what you want in your app
    });
```

configuration
-
When you initialize the library you can provide a configuration.
####blackList {array<string>} 
The names you want to blacklist. When initialized, it will not store them, so they will not be matched in any use.
**Default** `[]`
####theme {string} 
The default th√®me.
**Default** `apple`

####themesUrl {string} 
The url when all emojis themes are hosted. 
**Default** the emogeez-generator repository. (the size of each emojis are 48px)


store
-
It stores the emojis data. You can use it to load more themes

#### fetchTheme
It fetch theme from cdn or the url you provide
**arguments**
- `theme` {string} the theme name check the emogeez-generator for full list
- `data` {object} the json containing emojis data for the theme

#### setTheme
You set your theme manually
same args as fetchTheme

replacer
-
The tools provided by `replacer` should be used to replace emojis with what you want.

#### aliasesToNames
It will replace all aliases to the emoji name.

**arguments**
- `text` {string} the text in which we want replace alias to name

**returns** {string}

```javascript
const text = 'Hello :)';
replacer.aliasesToNames('apple', text);
-> 'Hello :slightly-smiling-face:'
```
#### toUTF8
It will replace all emojis name `:emoji-name:` to the utf8 char.

**arguments**
- `theme` {string} the theme for what we want to match emojis
- `text` {string} the text in which we want to replace

**returns** {string}

```javascript
const text = 'Hello :slightly-smiling-face:';
replacer.toUTF8('apple', text);
-> 'Hello üôÇ'
```

#### utf8ToNames
It will replace all utf8 char to the emoji name.

**arguments**
- `theme` {string} the theme for what we want to match emojis
- `text` {string} the text in which we want to replace

**returns** {string}

```javascript
const text = 'Hello üôÇ';
replacer.utf8ToNames('apple', text);
-> 'Hello :slightly-smiling-face:'
```

#### namesToHTML
It will replace all names to an HTML element. You can use the classname generated by the emogeez-generator to display the sprite.

**arguments**
- `theme` {string} the theme for what we want to match emojis
- `text` {string} the text in which we want to replace
- `HTMLRenderer` {function} The function returning the html. It will provide the matched emoji data to be used in your renderer.

**returns** {string}

```javascript
const text = 'Hello :slightly-smiling-face:';
replacer.namesToHTML('apple', text, (emoji) => {
  return `<span class="emoji-${emoji.name}"></span>`;
});
-> 'Hello <span class="emoji-slightly-smiling-face"></span>'
```

#### UTF8ToHTML
It will replace all utf8 char to an HTML element. You can use the classname generated by the emogeez-generator to display the sprite.

**arguments**
- `theme` {string} the theme for what we want to match emojis
- `text` {string} the text in which we want to replace
- `HTMLRenderer` {function} The function returning the html. It will provide the matched emoji data to be used in your renderer.

**returns** {string}

```javascript
const text = 'Hello üôÇ';
replacer.UTF8ToHTML('apple', text, (emoji) => {
  return `<span class="emoji-${emoji.name}"></span>`;
});
-> 'Hello <span class="emoji-slightly-smiling-face"></span>'
```


matcher
-
The tools provided by `matcher` should be used to find or match emojis in text.

#### hasEmojis
If you want to check if there is emojis in a text.

**arguments**
- `theme` {string} the theme for what we want to match emojis
- `text` {string} the text in which we want to find if there is emojis

**returns** {boolean}

#### getNames
Find the list of emojis's names in the text

**arguments**
- `theme` {string} the theme for what we want to match emojis
- `text` {string} the text in which we want to find if there is emojis

**returns** {array<string>}


# Notes

Please contribute if you found it useful! ‚ù§Ô∏è

```javascript
return 'enjoy';
```
